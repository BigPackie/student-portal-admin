<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Home
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-button (click)="onSimulate()">
    Simulate adding data to database
  </ion-button>
  <ion-text>
    <p>Latest object id: {{addeItemId}}</p>
  </ion-text>
  <ion-item-divider></ion-item-divider>
  <ion-button (click)="onSimulateDetail()">
    Simulate adding detail data to database (will not work if not added )
  </ion-button>
  <ion-text>
    <p>Object id of details: {{addeItemDetailId}}</p>
  </ion-text>

  <div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <h3>Choose File</h3>            
            <div class="form-group">
                <ion-input type="file" name="image" (change)="fileProgress($event)" ></ion-input>
            </div>
            <div *ngIf="fileUploadProgress">
                Upload progress: {{ fileUploadProgress }}
            </div>
            <div class="image-preview mb-3" *ngIf="previewUrl">
                <img [src]="previewUrl" height="300" />                 
            </div>
 
            <div class="mb-3" *ngIf="uploadedFilePath">
                {{uploadedFilePath}}
            </div>
             
            <div class="form-group">
                <ion-button class="btn btn-primary" [disabled]='!imageReady' (click)="onSubmit()">Submit</ion-button>
            </div>
        </div>
    </div>
</div>
</ion-content>
